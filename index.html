<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movistar | Programa de Equipos Bonificados 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; scroll-behavior: smooth; }
        .movistar-blue { background-color: #019DF0; }
        .text-movistar-blue { color: #019DF0; }
        .bg-movistar-green { background-color: #5BC500; }
        .hero-gradient { background: linear-gradient(135deg, #019DF0 0%, #005A87 100%); }
        
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .product-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 25px 30px -10px rgba(0, 0, 0, 0.1); }

        .step-indicator.active { background-color: #019DF0; color: white; transform: scale(1.1); box-shadow: 0 0 20px rgba(1, 157, 240, 0.3); }
        .step-indicator.completed { background-color: #5BC500; color: white; }

        .stage-container { display: none; }
        .stage-container.active { display: block; }

        .countdown-box { background: white; border-radius: 1.5rem; padding: 1.5rem; text-align: center; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); border: 1px solid #f1f5f9; }
        .countdown-val { font-size: 2rem; font-weight: 900; color: #019DF0; display: block; line-height: 1; }
        .countdown-label { font-size: 0.65rem; text-transform: uppercase; color: #64748b; font-weight: 800; margin-top: 0.5rem; display: block; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <div id="loader" class="fixed inset-0 bg-white z-[9999] flex flex-col justify-center items-center">
        <div class="animate-spin h-14 w-14 text-movistar-blue mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4"><circle class="opacity-25" cx="12" cy="12" r="10"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4"></path></svg>
        </div>
        <p class="text-movistar-blue font-black italic animate-pulse tracking-widest uppercase text-xs">SISTEMA MOVISTAR MÉXICO</p>
    </div>

    <header class="movistar-blue text-white shadow-xl sticky top-0 z-50">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                <div class="bg-white p-1.5 rounded-full shadow-inner"><i class="fas fa-phone-alt text-movistar-blue text-xs"></i></div>
                <span class="font-black text-xl tracking-tighter uppercase italic">Movistar</span>
            </div>
            <div class="flex items-center gap-4">
                <a href="#" class="hidden sm:flex items-center gap-2 text-[10px] font-black uppercase bg-white/10 px-4 py-2 rounded-full">
                    <i class="fas fa-headset text-movistar-green"></i> Soporte México
                </a>
            </div>
        </div>
    </header>

    <nav id="global-stepper" class="bg-white border-b sticky top-16 z-40 py-6 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between max-w-2xl mx-auto relative">
                <div class="absolute top-1/2 left-0 w-full h-0.5 bg-slate-100 -translate-y-1/2 z-0"></div>
                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div id="dot-1" class="step-indicator active w-10 h-10 rounded-full border-2 border-slate-100 bg-white flex items-center justify-center text-sm font-black">1</div>
                    <span class="text-[10px] font-black uppercase text-slate-400">Validar</span>
                </div>
                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div id="dot-2" class="step-indicator w-10 h-10 rounded-full border-2 border-slate-100 bg-white flex items-center justify-center text-sm font-black">2</div>
                    <span class="text-[10px] font-black uppercase text-slate-400">Equipos</span>
                </div>
                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div id="dot-3" class="step-indicator w-10 h-10 rounded-full border-2 border-slate-100 bg-white flex items-center justify-center text-sm font-black">3</div>
                    <span class="text-[10px] font-black uppercase text-slate-400">Solicitud</span>
                </div>
            </div>
        </div>
    </nav>

    <section id="stage-1" class="stage-container active fade-in py-16 px-4">
        <div class="max-w-xl mx-auto bg-white p-10 md:p-14 rounded-[4rem] shadow-2xl text-center">
            <div class="bg-blue-50 w-24 h-24 rounded-[2rem] rotate-12 flex items-center justify-center mx-auto mb-8">
                <i class="fas fa-user-shield text-4xl text-movistar-blue -rotate-12"></i>
            </div>
            <h2 class="text-3xl font-black text-slate-800 italic uppercase mb-4">Verificar Beneficio</h2>
            <p class="text-slate-500 mb-10 text-sm">Consulta si tu número es elegible para un equipo o tablet sin costo.</p>
            <div class="space-y-4 max-w-sm mx-auto">
                <input type="tel" id="val-phone" maxlength="10" placeholder="Número a 10 dígitos" 
                    class="w-full bg-slate-50 border-2 border-slate-100 p-6 rounded-3xl text-center text-3xl font-black focus:border-movistar-blue outline-none">
                <button onclick="processValidation()" id="val-btn" class="w-full movistar-blue text-white font-black py-6 rounded-3xl shadow-xl uppercase italic text-sm">
                    CONTINUAR <i class="fas fa-arrow-right"></i>
                </button>
            </div>
            <div id="val-loader-box" class="hidden mt-10 space-y-4">
                <div class="w-full bg-slate-100 h-2.5 rounded-full overflow-hidden">
                    <div id="val-progress" class="h-full movistar-blue w-0 transition-all duration-300"></div>
                </div>
                <p id="val-text" class="text-[10px] font-black text-movistar-blue uppercase animate-pulse">Iniciando consulta...</p>
            </div>
        </div>
    </section>

    <section id="stage-2" class="stage-container fade-in">
        <div class="hero-gradient text-white py-16 px-4 text-center">
            <h2 class="text-4xl md:text-6xl font-black mb-4 italic uppercase">Elige tu Regalo</h2>
            <p class="text-lg opacity-90 mb-10 italic">Smartphones de última generación y Tablets Samsung disponibles.</p>
            <div class="relative max-w-md mx-auto">
                <input type="text" id="searchInput" onkeyup="filterDevices()" placeholder="Buscar modelo (iPhone, Galaxy, Tab...)" 
                    class="w-full bg-white text-slate-800 px-6 py-5 rounded-3xl outline-none shadow-2xl font-bold">
            </div>
        </div>
        <main class="container mx-auto px-4 py-16">
            <div id="device-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                </div>
        </main>
    </section>

    <section id="stage-3" class="stage-container fade-in py-16 bg-slate-100 min-h-screen">
        <div class="container mx-auto px-4 max-w-5xl">
            <button onclick="backToCatalog()" class="mb-8 text-movistar-blue font-black flex items-center gap-2 uppercase text-sm italic">
                <i class="fas fa-chevron-left"></i> Volver al catálogo
            </button>
            <div class="bg-white shadow-2xl rounded-[4rem] overflow-hidden">
                <div class="movistar-blue p-10 text-white flex flex-col md:flex-row items-center gap-10">
                    <div class="w-40 h-40 bg-white rounded-[2rem] p-4 flex items-center justify-center flex-shrink-0">
                        <img id="checkout-img" src="" class="max-h-full object-contain">
                    </div>
                    <div>
                        <h2 id="checkout-name" class="text-3xl font-black italic uppercase">EQUIPO</h2>
                        <span class="bg-movistar-green text-white text-[10px] font-black px-4 py-1 rounded-full uppercase mt-4 inline-block">Bonificación 100% Autorizada</span>
                    </div>
                </div>
                <div class="p-10">
                    <form id="portability-form" onsubmit="submitPortability(event)" class="space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <input type="text" id="c-name" required placeholder="Nombre(s)" class="bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-movistar-blue font-bold uppercase">
                            <input type="text" id="c-paterno" required placeholder="Ap. Paterno" class="bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-movistar-blue font-bold uppercase">
                            <input type="text" id="c-materno" required placeholder="Ap. Materno" class="bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-movistar-blue font-bold uppercase">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <input type="tel" id="p-num" required maxlength="10" placeholder="Número a Portar" class="bg-slate-50 p-5 rounded-3xl border-2 border-slate-100 outline-none font-black text-2xl">
                            <input type="tel" id="p-nip" required maxlength="4" placeholder="NIP (051)" class="bg-slate-50 p-5 rounded-3xl border-2 border-slate-100 outline-none font-black text-2xl">
                        </div>
                        <textarea id="p-address" required placeholder="Dirección completa de envío..." rows="3" class="w-full bg-slate-50 p-6 rounded-[2rem] border-2 border-slate-100 outline-none"></textarea>
                        <button type="submit" id="submit-btn" class="w-full movistar-blue text-white font-black py-7 rounded-[2.5rem] shadow-2xl text-xl uppercase italic group">
                            CONFIRMAR PEDIDO <i class="fab fa-whatsapp ml-4"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="stage-4" class="stage-container fade-in py-16 px-4">
        <div class="max-w-2xl mx-auto bg-white p-12 rounded-[5rem] shadow-2xl text-center">
            <div class="w-20 h-20 bg-movistar-green text-white rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-check text-3xl"></i>
            </div>
            <h2 class="text-3xl font-black mb-4 uppercase italic">¡Solicitud Exitosa!</h2>
            <div class="bg-blue-50 p-8 rounded-[3rem] mb-8">
                <span class="text-xs font-black text-movistar-blue block mb-2 uppercase">Folio de Seguimiento</span>
                <h3 id="order-id" class="text-4xl font-black tracking-tighter">MOV-XXXXXX</h3>
            </div>
            <p class="text-sm text-slate-500 font-medium">Recibirás un mensaje de confirmación para coordinar la entrega en las próximas 72 horas.</p>
        </div>
    </section>

    <script>
        // Catálogo actualizado con Tablets Samsung
        const devices = [
            { id: 1, name: "iPhone 17 Pro Max", brand: "Apple", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/IPHONE/iPhone%2017%20Pro%20Max.jfif", specs: "1TB | Titanium | A19 Pro" },
            { id: 2, name: "Galaxy S24 Ultra", brand: "Samsung", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/SAMGMUG/s%2024%20ultra.jfif", specs: "512GB | Snapdragon Gen 3 | AI" },
            { id: 3, name: "Galaxy Tab S10 Ultra", brand: "Samsung", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/tab%20s10.jfif", specs: "14.6\" Dynamic AMOLED | 512GB | S-Pen Incluida" },
            { id: 4, name: "Galaxy Tab S9 FE", brand: "Samsung", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/galaxy%20tab.jfif", specs: "10.9\" | Resistente al agua IP68 | 128GB" },
            { id: 5, name: "Galaxy Z Fold 5", brand: "Samsung", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/SAMGMUG/Galaxy%20Z%20Fold%205.jfif", specs: "512GB | Pantalla Plegable" },
            { id: 6, name: "iPhone 17", brand: "Apple", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/IPHONE/iPhone%2017.jfif", specs: "256GB | Chip A18 AI" },
            { id: 7, name: "Xiaomi 13T Pro", brand: "Xiaomi", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/XIAOMI/Xiaomi%2013T%20Pro.jfif", specs: "512GB | Leica Camera" },
            { id: 8, name: "Motorola Edge 40 Pro", brand: "Motorola", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/MOTOROLA/Edge%2040%20Pro.jfif", specs: "256GB | 165Hz Display" }
            { id: 9, name: "GALAXY TAB 11S", brand: "Apple", img: "https://raw.githubusercontent.com/kaddexomg/moxistar.mx/refs/heads/main/tab%201ss.jfif", specs: "1TB | Titanium | A19 Pro" },        ];

        let selectedDevice = null;

        window.onload = () => {
            setTimeout(() => document.getElementById('loader').style.display = 'none', 1000);
        };

        function navigateTo(stage) {
            document.querySelectorAll('.stage-container').forEach(s => s.classList.remove('active'));
            document.getElementById(`stage-${stage}`).classList.add('active');
            
            document.querySelectorAll('.step-indicator').forEach((dot, idx) => {
                const sNum = idx + 1;
                dot.classList.toggle('completed', sNum < stage);
                dot.classList.toggle('active', sNum === stage);
            });

            if (stage === 2) renderDevices(devices);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function processValidation() {
            const num = document.getElementById('val-phone').value;
            if (num.length < 10) return alert("Ingresa un número válido");

            document.getElementById('val-btn').classList.add('hidden');
            const box = document.getElementById('val-loader-box');
            const bar = document.getElementById('val-progress');
            box.classList.remove('hidden');

            let p = 0;
            const interval = setInterval(() => {
                p += 5;
                bar.style.width = p + "%";
                if (p >= 100) {
                    clearInterval(interval);
                    navigateTo(2);
                }
            }, 100);
        }

        function renderDevices(items) {
            const grid = document.getElementById('device-grid');
            grid.innerHTML = items.map(d => `
                <div onclick="selectDevice(${d.id})" class="product-card bg-white rounded-[3rem] p-8 border border-slate-100 flex flex-col items-center cursor-pointer group">
                    <div class="h-48 flex items-center justify-center mb-6">
                        <img src="${d.img}" class="max-h-full group-hover:scale-110 transition-transform">
                    </div>
                    <span class="text-[10px] font-black uppercase text-movistar-blue">${d.brand}</span>
                    <h4 class="text-lg font-black italic uppercase text-center mt-2">${d.name}</h4>
                    <p class="text-[9px] text-slate-400 mt-2">${d.specs}</p>
                    <div class="w-full py-4 mt-6 bg-slate-900 text-white rounded-2xl text-[10px] font-black text-center group-hover:bg-movistar-green transition-all">
                        SELECCIONAR EQUIPO
                    </div>
                </div>
            `).join('');
        }

        function filterDevices() {
            const q = document.getElementById('searchInput').value.toLowerCase();
            renderDevices(devices.filter(d => d.name.toLowerCase().includes(q) || d.brand.toLowerCase().includes(q)));
        }

        function selectDevice(id) {
            selectedDevice = devices.find(d => d.id === id);
            document.getElementById('checkout-img').src = selectedDevice.img;
            document.getElementById('checkout-name').innerText = selectedDevice.name;
            navigateTo(3);
        }

        function backToCatalog() { navigateTo(2); }

        function submitPortability(e) {
            e.preventDefault();
            const folio = `MOV-${Math.floor(100000 + Math.random() * 900000)}`;
            const btn = document.getElementById('submit-btn');
            
            btn.innerHTML = "PROCESANDO...";
            btn.disabled = true;

            setTimeout(() => {
                document.getElementById('order-id').innerText = folio;
                navigateTo(4);
                // Aquí podrías disparar el WhatsApp si lo deseas
            }, 1500);
        }
    </script>
</body>
</html>
